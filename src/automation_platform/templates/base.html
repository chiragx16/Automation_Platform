<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}{{ page_title or "BotOps" }}{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script>
    // Tailwind config for light theme
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          colors: {
            brand: {
              50: '#eef2ff',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca'
            }
          },
          // Removed glass shadows and blur for light theme
        }
      }
    }
  </script>
  <style>
    /* Custom CSS removed dark background gradient for clean light theme */
    html,
    body {
      height: 100%;
    }

    /* The body background is now handled by Tailwind classes below */

    /* Hide scrollbar but allow scrolling */
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
      /* Chrome, Safari, Opera */
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      /* IE and Edge */
      scrollbar-width: none;
      /* Firefox */
    }

    ::selection {
      /* Hex: #B4D5FE | RGB: 180, 213, 254 | Alpha: 0.4 */
      background-color: rgba(180, 213, 254, 0.4);
    }
  </style>
</head>

<body class="bg-gray-100 text-gray-900">

  <div class="flex min-h-screen">
    <aside
      class="sticky top-0 h-screen hidden md:flex md:w-64 lg:w-72 flex-col border-r border-gray-200 bg-white shadow-lg">
      <div class="px-6 py-5 flex items-center gap-3 border-b border-gray-200">
        <div class="h-10 w-10 rounded-xl bg-brand-600 flex items-center justify-center shadow-md text-white">ðŸ¤–</div>
        <div>
          <div class="text-lg font-semibold text-gray-800">Bot Manager</div>
          <div class="text-xs text-gray-500">Operate â€¢ Monitor â€¢ Launch</div>
        </div>
      </div>
      <nav class="flex-1 p-3 space-y-2">
        <a href="{{ url_for('api.home_bp.home') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 22 22"
            fill="currentColor">
            <path d="M12 3l9 8h-3v8h-5v-5H11v5H6v-8H3z" />
          </svg>
          <span class="font-medium">Home</span>
        </a>
        <a href="{{ url_for('api.bot_control_bp.bot_control') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 24 24"
            fill="currentColor">
            <path d="M4 5h16v2H4zm0 6h10v2H4zm0 6h16v2H4z" />
          </svg>
          <span class="font-medium">Bot Control</span>
        </a>
        <a href="{{ url_for('api.launchpad_bp.launchpad') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 24 24"
            fill="currentColor">
            <path d="M5 3h14v4H5zm0 6h9v12H5zM16 9h3v12h-3z" />
          </svg>
          <span class="font-medium">Launchpad</span>
        </a>

        <a href="{{ url_for('api.schedule_reports_bp.get_manager_page') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 24 26"
            fill="currentColor">
            <path
              d="M19 4h-2V2h-2v2H9V2H7v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-9 14l-4-4 1.41-1.41L10 15.17l6.59-6.59L18 10l-8 8z" />
          </svg>
          <span class="font-medium">Schedule Manager</span>
        </a>

        <a href="{{ url_for('api.schedule_reports_bp.get_page') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 22 26"
            fill="currentColor">
            <path
              d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4l-4 4h2v8h4v-8h2l-4-4z" />
          </svg>
          <span class="font-medium">Schedule Reports</span>
        </a>

        <a href="{{ url_for('api.bot_reports_bp.bot_reports_page') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-brand-50 hover:text-brand-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-brand-700" viewBox="0 0 24 24"
            fill="currentColor">
            <path
              d="M16 11V7h-2v4h-4V7H8v4H4V3h16v8zM4 21h16c1.1 0 2-.9 2-2v-6H2v6c0 1.1.9 2 2 2zm2-5h3v2H6zm5 0h3v2h-3zm5 0h3v2h-3z" />
          </svg>
          <span class="font-medium">Bot Reports</span>
        </a>
      </nav>

      <div class="p-3">
        <a href="{{ url_for('auth.logout') }}"
          class="group flex items-center gap-3 px-3 py-2 rounded-xl text-gray-600 hover:bg-red-50 hover:text-red-600 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:text-red-600" viewBox="0 0 24 24"
            fill="currentColor">
            <path d="M16 13v-2H7V7l-5 5 5 5v-4zM20 3h-8v2h8v14h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" />
          </svg>
          <span class="font-medium">Logout</span>
        </a>
      </div>

      <div class="p-4 border-t border-gray-200">
        <div class="text-xs text-gray-500">Â© {{ 2025 }} VCERP Consulting Pvt. Ltd</div>
      </div>
    </aside>

    <div class="flex-1 flex flex-col">
      <header class="sticky top-0 z-40 border-b border-gray-200 bg-white shadow-sm">
        <div class="px-4 md:px-6 h-14 flex items-center justify-between">
          <button id="mobileMenuBtn"
            class="md:hidden inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z" />
            </svg>
            <span class="text-sm">Menu</span>
          </button>
          <div class="flex items-center gap-2">
            <h1 class="text-lg font-semibold text-gray-900">{% block heading %}{{ page_title or "Dashboard" }}{%
              endblock %}</h1>
          </div>
          <div class="flex items-center gap-2">
            <div class="px-4 py-1.5 text-xs rounded-lg bg-gray-100 text-black-600">
              {{ session.user.name if session.user else "Guest" }}
            </div>
          </div>
        </div>
      </header>

      <main class="p-4 md:p-6 lg:p-8">
        {% block content %}{% endblock %}
      </main>
    </div>
  </div>

  <div id="mobileDrawer" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/40"></div>
    <div class="absolute left-0 top-0 bottom-0 w-72 bg-white text-gray-900 p-4 shadow-xl">
      <div class="flex items-center justify-between mb-4">
        <div class="font-semibold">Bot Manager</div>
        <button id="mobileClose" class="p-2 rounded hover:bg-gray-100 text-gray-600">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6.4 5l12.2 12.2-1.4 1.4L5 6.4z" />
            <path d="M18.6 5L5 18.6l1.4 1.4L20 6.4z" />
          </svg>
        </button>
      </div>
      <nav class="space-y-2">
        <a href="{{ url_for('api.home_bp.home') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Home</a>
        <a href="{{ url_for('api.bot_control_bp.bot_control') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Bot Control</a>
        <a href="{{ url_for('api.launchpad_bp.launchpad') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Launchpad</a>
        <a href="{{ url_for('api.schedule_reports_bp.get_manager_page') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Schedule Manager</a>
        <a href="{{ url_for('api.schedule_reports_bp.get_page') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Schedule Reports</a>
        <a href="{{ url_for('api.bot_reports_bp.bot_reports_page') }}"
          class="block px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700">Bot Reports</a>
      </nav>
    </div>
  </div>

  {% block scripts %}{% endblock %}
  <script>
    const drawer = document.getElementById('mobileDrawer');
    const btn = document.getElementById('mobileMenuBtn');
    const closeBtn = document.getElementById('mobileClose');
    if (btn) btn.addEventListener('click', () => drawer.classList.remove('hidden'));
    if (closeBtn) closeBtn.addEventListener('click', () => drawer.classList.add('hidden'));
  </script>
</body>

</html>